import sys
import requests
import socket
import json


# Command line utility
if len(sys.argv) < 2:
    print("Usage: " + sys.argv[0] + "<url>")
    sys.exit(1)

# Using the above statement we will fill the parameters below
req = requests.get("https://"+sys.argv[1])
print("\n" +str(req.headers))

gethostby = socket.gethostbyname(sys.argv[1])
print("\nThe IP Address of "+sys.argv[1]+" is: "+gethostby +"\n")

# ipinfo.io 
ip_request = requests.get("https://ipinfo.io/"+gethostby+"/json")
resp = json.loads(ip_request.text)

print("Location: "+ resp['loc'])
print("Region: "+ resp['region'])
print("City: "+ resp['city'])
print("Country: "+resp['country'])
